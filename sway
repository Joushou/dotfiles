#
# Variables
#

set $mod Mod4
set $term alacritty
set $browser env GDK_BACKEND=wayland /opt/mozilla/firefox-nightly/firefox -new-tab
set $launcher alacritty --class "__sway_launcher" -e sway-launcher

#
# Startup
#

exec mako
exec swayidle -w \
    timeout 300 'swaylock -f -c 000000' \
    timeout 600 'swaymsg "output * dpms off"' \
    resume 'swaymsg "output * dpms on"' \
    before-sleep 'swaylock -f -c 000000'

#
# Inputs and outputs
#

input "1739:30383:DELL07E6:00_06CB:76AF_Touchpad" {
	dwt enabled
	tap enabled
	natural_scroll enabled
    click_method clickfinger
	scroll_method two_finger
}

output * bg /usr/share/backgrounds/Carriage_Return_by_mendhak.jpg stretch

#
# Status bar
#

bar {
    position bottom
    font pango:DejaVu Sans Mono, FontAwesome 12
    status_command i3status-rs ~/.config/sway/i3status-rust.toml
    colors {
        separator #666666
        background #222222
        statusline #dddddd
        focused_workspace #0088CC #0088CC #ffffff
        active_workspace #333333 #333333 #ffffff
        inactive_workspace #333333 #333333 #888888
        urgent_workspace #2f343a #900000 #ffffff
    }
}

#
# Few settings
#

default_border none
floating_modifier $mod normal
for_window [app_id="^__sway_launcher$"] floating enable, border none, resize set width 100ppt height 200px, move position 0px 0px

#
# Key bindings
#

# Sway control
bindsym $mod+shift+q kill                 # Kill window
bindsym $mod+shift+c reload               # Reload sway
bindsym $mod+shift+b border toggle        # Toggle border
bindsym $mod+shift+e exec swaynag \
    -t warning \
    -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' \
    -b 'Yes, exit sway' \
    'swaymsg exit'

# Execs
bindsym $mod+l exec swaylock -f -c 000000 # Lock
bindsym $mod+i exec i3-input              # Sway shell
bindsym $mod+Return exec $term            # Terminal
bindsym ctrl+$mod+1 exec $browser         # Browser
bindsym $mod+d exec $launcher             # Launcher

# Media keys
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume $(pacmd list-sinks | awk '/\* index:/ { print $3; }') +1%
bindsym shift+XF86AudioRaiseVolume exec pactl set-sink-volume $(pacmd list-sinks | awk '/\* index:/ { print $3; }') +10%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume $(pacmd list-sinks | awk '/\* index:/ { print $3; }') -1%
bindsym shift+XF86AudioLowerVolume exec pactl set-sink-volume $(pacmd list-sinks | awk '/\* index:/ { print $3; }') -10%
bindsym XF86AudioMute exec pactl set-sink-mute $(pacmd list-sinks | awk '/\* index:/ { print $3; }') toggle
bindsym XF86MonBrightnessDown exec brightnessctl set 1%-
bindsym XF86MonBrightnessUp exec brightnessctl set +1%

# Focus move
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Window move
bindsym $mod+shift+Left move left
bindsym $mod+shift+Down move down
bindsym $mod+shift+Up move up
bindsym $mod+shift+Right move right

# Go to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# Switch to workspace
bindsym $mod+shift+1 move container to workspace 1
bindsym $mod+shift+2 move container to workspace 2
bindsym $mod+shift+3 move container to workspace 3
bindsym $mod+shift+4 move container to workspace 4
bindsym $mod+shift+5 move container to workspace 5
bindsym $mod+shift+6 move container to workspace 6
bindsym $mod+shift+7 move container to workspace 7
bindsym $mod+shift+8 move container to workspace 8
bindsym $mod+shift+9 move container to workspace 9
bindsym $mod+shift+0 move container to workspace 10

# Set split mode
bindsym $mod+b splith
bindsym $mod+v splitv

# Change container layout
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+f fullscreen                # Toggle fullscreen
bindsym $mod+shift+space floating toggle # Toggle floating
bindsym $mod+space focus mode_toggle     # Floating/tiling focus swap
bindsym $mod+a focus parent              # Focus parent

# Scratchpad
bindsym $mod+shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Resize
mode "resize" {
    bindsym Return mode "default"
    bindsym Escape mode "default"

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

}
bindsym $mod+r mode "resize"

include /etc/sway/config.d/*
